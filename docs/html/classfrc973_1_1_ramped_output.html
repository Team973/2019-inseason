<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>2019-inseason: frc973::RampedOutput Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">2019-inseason
   &#160;<span id="projectnumber">unspecified</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacefrc973.html">frc973</a></li><li class="navelem"><a class="el" href="classfrc973_1_1_ramped_output.html">RampedOutput</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classfrc973_1_1_ramped_output-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">frc973::RampedOutput Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_ramped_output_8h_source.html">RampedOutput.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for frc973::RampedOutput:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classfrc973_1_1_ramped_output.png" usemap="#frc973::RampedOutput_map" alt=""/>
  <map id="frc973::RampedOutput_map" name="frc973::RampedOutput_map">
<area href="classfrc973_1_1_filter_base.html" alt="frc973::FilterBase" shape="rect" coords="0,0,137,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aed80e762d775a9a6efce4f648b013e3a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfrc973_1_1_ramped_output.html#aed80e762d775a9a6efce4f648b013e3a">RampedOutput</a> (double rampRate, double initialOutput=0.0)</td></tr>
<tr class="separator:aed80e762d775a9a6efce4f648b013e3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f45a8986d16dcae039414e1e6c3b0d5"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfrc973_1_1_ramped_output.html#a3f45a8986d16dcae039414e1e6c3b0d5">Update</a> (double input) override</td></tr>
<tr class="separator:a3f45a8986d16dcae039414e1e6c3b0d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0528556f8227f56db2dec98bb40f1ba5"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfrc973_1_1_ramped_output.html#a0528556f8227f56db2dec98bb40f1ba5">GetLast</a> () override</td></tr>
<tr class="separator:a0528556f8227f56db2dec98bb40f1ba5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae50d8679265f21015cb39a386436ad4b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfrc973_1_1_ramped_output.html#ae50d8679265f21015cb39a386436ad4b">IsRampFinished</a> ()</td></tr>
<tr class="separator:ae50d8679265f21015cb39a386436ad4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22c29c0e48e3c00de3ea773f7be0c08c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfrc973_1_1_ramped_output.html#a22c29c0e48e3c00de3ea773f7be0c08c">SetRampRate</a> (double newRampRate)</td></tr>
<tr class="separator:a22c29c0e48e3c00de3ea773f7be0c08c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0b4fbf994b66fa03735ad1cf26a2084"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfrc973_1_1_ramped_output.html#ac0b4fbf994b66fa03735ad1cf26a2084">GetRampRate</a> ()</td></tr>
<tr class="separator:ac0b4fbf994b66fa03735ad1cf26a2084"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a761e873e88de12e6dd9e62bdef3aa99c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfrc973_1_1_ramped_output.html#a761e873e88de12e6dd9e62bdef3aa99c">OverridePrevOutput</a> (double prevOutput)</td></tr>
<tr class="separator:a761e873e88de12e6dd9e62bdef3aa99c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classfrc973_1_1_filter_base"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classfrc973_1_1_filter_base')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classfrc973_1_1_filter_base.html">frc973::FilterBase</a></td></tr>
<tr class="memitem:a709baf4c36ac2d3667afd1139c8f36fd inherit pub_methods_classfrc973_1_1_filter_base"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfrc973_1_1_filter_base.html#a709baf4c36ac2d3667afd1139c8f36fd">FilterBase</a> ()</td></tr>
<tr class="separator:a709baf4c36ac2d3667afd1139c8f36fd inherit pub_methods_classfrc973_1_1_filter_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classfrc973_1_1_ramped_output.html">RampedOutput</a> is a filter that garauntees the maximum rate of change in any signal is at most a certain threshold. This can be used to ramp drive output on a root with high CG, to ramp motor output on a flywheel that might otherwise spike the battery, or as a filter to a sensor where we know the rate of change of value should always be below a certain threshold.</p>
<p>The units for rampRate is whatever is being measured per sec. This class has an internal clock so regardless of how often it is being called, the ramp rate will stay the same. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aed80e762d775a9a6efce4f648b013e3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed80e762d775a9a6efce4f648b013e3a">&#9670;&nbsp;</a></span>RampedOutput()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">frc973::RampedOutput::RampedOutput </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>rampRate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>initialOutput</em> = <code>0.0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a <a class="el" href="classfrc973_1_1_ramped_output.html">RampedOutput</a> object. This object filters a signal by coercing the input value to within range of the old value +/- the ramp rate. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rampRate</td><td>The maximum difference between two outputs (in units/sec). </td></tr>
    <tr><td class="paramname">initialOutput</td><td>The first value we ramp from (optional). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a0528556f8227f56db2dec98bb40f1ba5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0528556f8227f56db2dec98bb40f1ba5">&#9670;&nbsp;</a></span>GetLast()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double frc973::RampedOutput::GetLast </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the previous value returned by this ramp. Doesn't account for the time since that value was calculated. </p><dl class="section return"><dt>Returns</dt><dd>The value that was last returned by GetValue. </dd></dl>

<p>Implements <a class="el" href="classfrc973_1_1_filter_base.html#a5237819fc9b56378265ab3c51b717425">frc973::FilterBase</a>.</p>

</div>
</div>
<a id="ac0b4fbf994b66fa03735ad1cf26a2084"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0b4fbf994b66fa03735ad1cf26a2084">&#9670;&nbsp;</a></span>GetRampRate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double frc973::RampedOutput::GetRampRate </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the ramp rate. </p><dl class="section return"><dt>Returns</dt><dd>The ramp rate (in units/sec). </dd></dl>

</div>
</div>
<a id="ae50d8679265f21015cb39a386436ad4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae50d8679265f21015cb39a386436ad4b">&#9670;&nbsp;</a></span>IsRampFinished()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool frc973::RampedOutput::IsRampFinished </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check whether (with the most recent call of GetValue) we've reached our target output value. </p><dl class="section return"><dt>Returns</dt><dd>The status of ramp completion. </dd></dl>

</div>
</div>
<a id="a761e873e88de12e6dd9e62bdef3aa99c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a761e873e88de12e6dd9e62bdef3aa99c">&#9670;&nbsp;</a></span>OverridePrevOutput()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void frc973::RampedOutput::OverridePrevOutput </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>prevOutput</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Override any ramping and just set the damn previous output... The <a class="el" href="classfrc973_1_1_ramped_output.html">RampedOutput</a> will ramp subsequent values as if that were the previous output. </p>

</div>
</div>
<a id="a22c29c0e48e3c00de3ea773f7be0c08c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22c29c0e48e3c00de3ea773f7be0c08c">&#9670;&nbsp;</a></span>SetRampRate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void frc973::RampedOutput::SetRampRate </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>newRampRate</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Change the ramp rate. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">newRampRate</td><td>The new ramp rate (in units/sec). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3f45a8986d16dcae039414e1e6c3b0d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f45a8986d16dcae039414e1e6c3b0d5">&#9670;&nbsp;</a></span>Update()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double frc973::RampedOutput::Update </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>input</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the filtered output value given the actual input. Takes into account the given input, the previous output, the ramp rate, and the time since last call. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">input</td><td>The target value that we should try to output. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The value that was closer to the input.</dd></dl>
<p>If m_prevTimeMs is 0, that means this is the first call of GetValue... In this special case, just return m_prevOutput (probably 0.0) </p>

<p>Implements <a class="el" href="classfrc973_1_1_filter_base.html#a9f61d149e9a8a3c4dfa763708da6482d">frc973::FilterBase</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/main/cpp/lib/helpers/<a class="el" href="_ramped_output_8h_source.html">RampedOutput.h</a></li>
<li>src/main/cpp/lib/helpers/RampedOutput.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
